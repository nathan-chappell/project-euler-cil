.assembly extern mscorlib {}
.assembly foo {}

.method static public void Main() cil managed
{
    .entrypoint
    .maxstack 5
    .locals (int32, int32)
    ldc.i4.0
    stloc.0 // i
    ldc.i4.0
    stloc.1 // acc

    BEGIN_LOOP:
    // mod 3
    ldloc.0
    ldc.i4.3
    rem
    ldc.i4.0
    beq.s ACC

    // mod 5
    ldloc.0
    ldc.i4.5
    rem
    ldc.i4.0
    beq.s ACC

    br.s LOOP_CONDITION

    ACC:
    ldloc.0
    ldloc.1
    add
    stloc.1

    LOOP_CONDITION:
    ldloc.0
    ldc.i4.1
    add
    dup
    stloc.0
    ldc.i4 1000
    blt.s BEGIN_LOOP

    ldstr "Result:"
    call void [mscorlib]System.Console::WriteLine(class System.String)
    ldloc.1
    call void [mscorlib]System.Console::WriteLine(int32)
    ret
}
